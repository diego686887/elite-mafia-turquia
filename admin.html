<!-- No admin.html, atualize a parte do login: -->
<div id="loginAdmin" style="display: block;">
    <h2>ğŸ” ACESSO RESTRITO</h2>
    <p>Digite a key de administraÃ§Ã£o:</p>
    
    <div class="form-group">
        <input type="text" id="keyAdmin" placeholder="Digite a key de acesso (formato: ELITE_XXXXX_XXXXX)" 
               style="font-family: monospace; text-transform: uppercase; letter-spacing: 1px;">
    </div>
    
    <div id="keyFeedback" style="margin: 10px 0; min-height: 20px;"></div>
    
    <div class="btn-container">
        <button onclick="validarKey()" class="btn">ğŸ”‘ ACESSAR SISTEMA</button>
        <a href="gerador_keys.html" class="btn">ğŸ—ï¸ GERAR KEY</a>
        <a href="index.html" class="btn">ğŸ  VOLTAR</a>
    </div>
    
    <div class="warning" style="margin-top: 20px; padding: 10px;">
        <strong>âš ï¸ INFORMAÃ‡Ã•ES IMPORTANTES:</strong>
        <ul style="margin: 10px 0; padding-left: 20px;">
            <li>A key Ã© vÃ¡lida apenas para este dispositivo</li>
            <li>Cada key tem data de expiraÃ§Ã£o</li>
            <li>Perdeu a key? Gere uma nova</li>
            <li>NÃ£o compartilhe sua key com ninguÃ©m</li>
        </ul>
    </div>
</div>

<script>
// FunÃ§Ã£o melhorada de validaÃ§Ã£o
function validarKey() {
    const keyInput = document.getElementById('keyAdmin');
    const key = keyInput.value.trim().toUpperCase();
    const feedback = document.getElementById('keyFeedback');
    
    // Limpar feedback anterior
    feedback.innerHTML = '';
    feedback.style.color = '';
    
    if (!key) {
        feedback.innerHTML = 'âŒ Digite uma key!';
        feedback.style.color = '#ff0000';
        keyInput.focus();
        return;
    }
    
    // Validar formato bÃ¡sico
    if (!key.startsWith('ELITE_')) {
        feedback.innerHTML = 'âŒ Formato invÃ¡lido! A key deve comeÃ§ar com ELITE_';
        feedback.style.color = '#ff0000';
        return;
    }
    
    // Mostrar loading
    feedback.innerHTML = 'â³ Validando key...';
    feedback.style.color = '#ffff00';
    
    // Simular delay de validaÃ§Ã£o
    setTimeout(() => {
        const resultado = window.SistemaKeys.validarKey(key);
        
        if (resultado.valida) {
            feedback.innerHTML = 'âœ… Key vÃ¡lida! Acessando sistema...';
            feedback.style.color = '#00ff00';
            
            // Salvar sessÃ£o
            localStorage.setItem('adminSession', JSON.stringify({
                key: key,
                validadoEm: new Date().toISOString(),
                admin: resultado.keyObj.nomeAdmin,
                deviceId: window.SistemaKeys.deviceId
            }));
            
            localStorage.setItem('adminLogged', 'true');
            
            // Redirecionar apÃ³s breve delay
            setTimeout(() => {
                window.location.href = 'admin.html?logged=true';
            }, 1000);
            
        } else {
            feedback.innerHTML = `âŒ ${resultado.motivo}`;
            feedback.style.color = '#ff0000';
            
            // Feedback visual no input
            keyInput.style.borderColor = '#ff0000';
            keyInput.style.boxShadow = '0 0 10px rgba(255,0,0,0.5)';
            
            setTimeout(() => {
                keyInput.style.borderColor = '#fff';
                keyInput.style.boxShadow = 'none';
            }, 2000);
        }
    }, 800);
}
</script>
